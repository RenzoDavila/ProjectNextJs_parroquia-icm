module.exports=[44390,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(53526),f=a.i(41675),g=a.i(41710),h=a.i(46842),i=a.i(4720);let j=(0,a.i(70106).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var k=a.i(16201),l=a.i(50522),m=a.i(13749),n=a.i(96221),o=a.i(92e3),p=a.i(33508);function q({label:a,name:c,type:d="text",value:e,onChange:f,onBlur:g,error:h,required:i,maxLength:j,placeholder:k,icon:l,helpText:m}){let n=!!h;return(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700",children:[a," ",i&&(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[l&&(0,b.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l}),(0,b.jsx)("input",{type:d,id:c,name:c,value:e,onChange:f,onBlur:g,maxLength:j,placeholder:k,className:`w-full ${l?"pl-10":"px-4"} pr-4 py-3 border rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 ${n?"border-red-500 bg-red-50 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-[#002F57] focus:border-[#002F57]"}`}),n&&(0,b.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,b.jsx)(o.AlertCircle,{className:"w-5 h-5 text-red-500"})})]}),n&&(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1 animate-fadeIn",children:[(0,b.jsx)(o.AlertCircle,{className:"w-4 h-4"}),h]}),m&&!n&&(0,b.jsx)("p",{className:"text-xs text-gray-500",children:m})]})}function r({label:a,name:c,value:d,onChange:e,onBlur:f,error:g,required:h,rows:i=4,placeholder:j,helpText:k}){let l=!!g;return(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700",children:[a," ",h&&(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{id:c,name:c,value:d,onChange:e,onBlur:f,rows:i,placeholder:j,className:`w-full px-4 py-3 border rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 resize-none ${l?"border-red-500 bg-red-50 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-[#002F57] focus:border-[#002F57]"}`}),l&&(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1 animate-fadeIn",children:[(0,b.jsx)(o.AlertCircle,{className:"w-4 h-4"}),g]}),k&&!l&&(0,b.jsx)("p",{className:"text-xs text-gray-500",children:k})]})}function s(){let[a,s]=(0,c.useState)(1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)("idle"),[x,y]=(0,c.useState)(""),z=(0,c.useCallback)(()=>{let a=new Date;return a.setDate(a.getDate()+1),a.toISOString().split("T")[0]},[]),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)({}),[K,L]=(0,c.useState)(new Set),[M,N]=(0,c.useState)({reservationDate:z(),reservationTime:"",location:"",nombre:"",apellidos:"",dni:"",telefono:"",email:"",tipoMisa:"",intencion:"",difuntos:"",observaciones:"",metodoPago:"",comprobante:null}),O=(0,c.useCallback)((a,b)=>{switch(a){case"nombre":if(!b.trim())return"El nombre es obligatorio";if(b.trim().length<2)return"El nombre debe tener al menos 2 caracteres";if(!/^[a-zA-ZáéíóúÁÉÍÓÚñÑüÜ\s]+$/.test(b))return"El nombre solo puede contener letras";return"";case"apellidos":if(!b.trim())return"Los apellidos son obligatorios";if(b.trim().length<2)return"Los apellidos deben tener al menos 2 caracteres";if(!/^[a-zA-ZáéíóúÁÉÍÓÚñÑüÜ\s]+$/.test(b))return"Los apellidos solo pueden contener letras";return"";case"dni":if(!b.trim())return"El DNI es obligatorio";if(!/^\d+$/.test(b))return"El DNI solo debe contener números";if(8!==b.length)return"El DNI debe tener exactamente 8 dígitos";return"";case"telefono":if(!b.trim())return"El teléfono es obligatorio";if(!/^\d+$/.test(b))return"El teléfono solo debe contener números";if(b.length<9)return"El teléfono debe tener al menos 9 dígitos";return"";case"email":if(!b.trim())return"El correo electrónico es obligatorio";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b))return"Ingresa un correo electrónico válido";return"";case"intencion":if(!b.trim())return"La intención de la misa es obligatoria";if(b.trim().length<10)return"La intención debe tener al menos 10 caracteres";return"";case"reservationDate":if(!b)return"Selecciona una fecha";let c=new Date(b+"T00:00:00"),d=new Date;if(d.setDate(d.getDate()+1),d.setHours(0,0,0,0),c<d)return"Solo puedes reservar misas a partir de mañana";return"";case"reservationTime":if(!b)return"Selecciona una hora";return"";case"tipoMisa":if(!b)return"Selecciona un tipo de misa";return"";case"metodoPago":if(!b)return"Selecciona un método de pago";return"";default:return""}},[]),P=a=>{let{name:b,value:c}=a.target;if(N(a=>({...a,[b]:c})),K.has(b)){let a=O(b,c);J(c=>({...c,[b]:a}))}},Q=a=>{L(b=>new Set(b).add(a));let b=O(a,M[a]);J(c=>({...c,[a]:b}))};(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/mass-types",{cache:"no-store"}),b=await a.json();b.success&&B(b.massTypes||b.data)}catch(a){console.error("Error al cargar tipos de misa:",a)}})()},[]),(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/payment-methods",{cache:"no-store"}),b=await a.json();b.success&&D(b.data)}catch(a){console.error("Error al cargar métodos de pago:",a)}})()},[]),(0,c.useEffect)(()=>{F([]),N(a=>({...a,reservationTime:""})),M.reservationDate&&(async()=>{H(!0);try{let a=await fetch(`/api/reservations/available-times?date=${M.reservationDate}`,{cache:"no-store"});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let b=await a.json();if(b.data&&Array.isArray(b.data)){let a=b.data.filter(a=>a.isAvailable).map(a=>a.time),c=Array.from(new Set(a));F(c)}}catch(a){console.error("Error al cargar horarios:",a)}finally{H(!1)}})()},[M.reservationDate]);let R=async a=>{a.preventDefault();let b={};if(["metodoPago"].forEach(a=>{let c=O(a,M[a]);c&&(b[a]=c)}),Object.keys(b).length>0)return void J(a=>({...a,...b}));u(!0),w("idle"),y("");try{let a=null,b=null,c=null;if(M.comprobante){let d=new FileReader,e=new Promise(a=>{d.onloadend=()=>a(d.result),d.readAsDataURL(M.comprobante)});a=await e,b=M.comprobante.type,c=M.comprobante.size}let d={date:M.reservationDate,time:M.reservationTime,location:M.location||"Parroquia Corazón de María",nombre:M.nombre.trim(),apellidos:M.apellidos.trim(),dni:M.dni.trim(),telefono:M.telefono.trim(),email:M.email.trim().toLowerCase(),tipoMisa:M.tipoMisa,intencion:M.intencion.trim(),difuntos:M.difuntos?.trim()||"",observaciones:M.observaciones?.trim()||"",metodoPago:M.metodoPago,comprobanteBase64:a,comprobanteMimeType:b,comprobanteSize:c},e=await fetch("/api/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),f=await e.json();if(f.success&&f.confirmationCode)w("success"),s(5),window.scrollTo({top:0,behavior:"smooth"});else throw Error(f.error||"Error al crear la reserva")}catch(a){console.error("Error al enviar reserva:",a),w("error"),y(a instanceof Error?a.message:"Error desconocido")}finally{u(!1)}},S=A.find(a=>a.value===M.tipoMisa),T=C.find(a=>a.type===M.metodoPago),U=[{number:1,title:"Fecha y Hora",icon:f.Calendar},{number:2,title:"Datos Personales",icon:h.User},{number:3,title:"Detalles de Misa",icon:i.FileText},{number:4,title:"Pago",icon:j},{number:5,title:"Confirmación",icon:k.CheckCircle}];return(0,b.jsx)(e.default,{children:(0,b.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-8 md:py-12",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-[#002F57] mb-2",children:"Reservar Misa"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Complete el formulario para reservar una misa en nuestra parroquia"})]}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between relative",children:[(0,b.jsx)("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-gray-200 -z-10",children:(0,b.jsx)("div",{className:"h-full bg-[#49AE9C] transition-all duration-500",style:{width:`${(a-1)/4*100}%`}})}),U.map(c=>{let d=c.icon,e=a>c.number,f=a===c.number;return(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${e?"bg-[#49AE9C] text-white":f?"bg-[#002F57] text-white ring-4 ring-[#002F57]/20":"bg-gray-200 text-gray-500"}`,children:e?(0,b.jsx)(k.CheckCircle,{className:"w-5 h-5"}):(0,b.jsx)(d,{className:"w-5 h-5"})}),(0,b.jsx)("span",{className:`text-xs mt-2 font-medium hidden sm:block ${f?"text-[#002F57]":"text-gray-500"}`,children:c.title})]},c.number)})]})}),"error"===v&&x&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3 animate-fadeIn",children:[(0,b.jsx)(o.AlertCircle,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-red-800",children:"Error al procesar la reserva"}),(0,b.jsx)("p",{className:"text-sm text-red-600",children:x})]}),(0,b.jsx)("button",{onClick:()=>y(""),className:"text-red-500 hover:text-red-700",children:(0,b.jsx)(p.X,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:(0,b.jsxs)("form",{onSubmit:R,children:[(0,b.jsxs)("div",{className:"p-6 md:p-8",children:[1===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-[#002F57] mb-6",children:"Selecciona Fecha y Hora"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha de la Misa ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"date",name:"reservationDate",value:M.reservationDate,onChange:P,onBlur:()=>Q("reservationDate"),min:z(),className:`w-full pl-10 pr-4 py-3 border rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 ${I.reservationDate&&K.has("reservationDate")?"border-red-500 bg-red-50 focus:ring-red-500":"border-gray-300 focus:ring-[#002F57]"}`})]}),I.reservationDate&&K.has("reservationDate")&&(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1 mt-1 animate-fadeIn",children:[(0,b.jsx)(o.AlertCircle,{className:"w-4 h-4"}),I.reservationDate]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hora de la Misa ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),M.reservationDate?G?(0,b.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center text-blue-600",children:[(0,b.jsx)(n.Loader2,{className:"w-6 h-6 mx-auto mb-2 animate-spin"}),"Cargando horarios disponibles..."]}):0===E.length?(0,b.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 text-center text-yellow-700 border border-yellow-200",children:[(0,b.jsx)(o.AlertCircle,{className:"w-6 h-6 mx-auto mb-2"}),"No hay horarios disponibles para esta fecha"]}):(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:E.map((a,c)=>(0,b.jsxs)("button",{type:"button",onClick:()=>{N(b=>({...b,reservationTime:a})),J(a=>({...a,reservationTime:""}))},className:`p-3 rounded-lg border-2 transition-all duration-200 ${M.reservationTime===a?"border-[#002F57] bg-[#002F57] text-white shadow-lg scale-105":"border-gray-200 hover:border-[#49AE9C] hover:bg-gray-50"}`,children:[(0,b.jsx)(g.Clock,{className:"w-5 h-5 mx-auto mb-1"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a})]},`${a}-${c}`))}):(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center text-gray-500 border-2 border-dashed border-gray-200",children:[(0,b.jsx)(f.Calendar,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),"Por favor, selecciona primero una fecha"]}),I.reservationTime&&K.has("reservationTime")&&(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1 mt-2 animate-fadeIn",children:[(0,b.jsx)(o.AlertCircle,{className:"w-4 h-4"}),I.reservationTime]})]})]}),2===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-[#002F57] mb-6",children:"Datos Personales"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(q,{label:"Nombres",name:"nombre",value:M.nombre,onChange:P,onBlur:()=>Q("nombre"),error:K.has("nombre")?I.nombre:void 0,required:!0,placeholder:"Ej: Juan Carlos"}),(0,b.jsx)(q,{label:"Apellidos",name:"apellidos",value:M.apellidos,onChange:P,onBlur:()=>Q("apellidos"),error:K.has("apellidos")?I.apellidos:void 0,required:!0,placeholder:"Ej: Pérez García"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(q,{label:"DNI",name:"dni",value:M.dni,onChange:P,onBlur:()=>Q("dni"),error:K.has("dni")?I.dni:void 0,required:!0,maxLength:8,placeholder:"8 dígitos",helpText:"Ingresa tu DNI de 8 dígitos"}),(0,b.jsx)(q,{label:"Teléfono",name:"telefono",type:"tel",value:M.telefono,onChange:P,onBlur:()=>Q("telefono"),error:K.has("telefono")?I.telefono:void 0,required:!0,placeholder:"Ej: 987654321",helpText:"Número de 9 dígitos"})]}),(0,b.jsx)(q,{label:"Correo Electrónico",name:"email",type:"email",value:M.email,onChange:P,onBlur:()=>Q("email"),error:K.has("email")?I.email:void 0,required:!0,placeholder:"correo@ejemplo.com",helpText:"Recibirás la confirmación en este correo"})]}),3===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-[#002F57] mb-6",children:"Detalles de la Misa"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo de Misa ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>{N(b=>({...b,tipoMisa:a.value})),J(a=>({...a,tipoMisa:""}))},className:`p-4 rounded-xl border-2 text-left transition-all duration-200 ${M.tipoMisa===a.value?"border-[#002F57] bg-[#002F57]/5 shadow-md":"border-gray-200 hover:border-[#49AE9C] hover:shadow-sm"}`,children:[(0,b.jsx)("span",{className:"block font-semibold text-[#002F57]",children:a.label}),(0,b.jsxs)("span",{className:"block text-[#49AE9C] font-bold text-lg mt-1",children:["S/ ",a.price.toFixed(2)]}),a.description&&(0,b.jsx)("span",{className:"block text-xs text-gray-500 mt-1",children:a.description})]},a.value))}),I.tipoMisa&&K.has("tipoMisa")&&(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1 mt-2 animate-fadeIn",children:[(0,b.jsx)(o.AlertCircle,{className:"w-4 h-4"}),I.tipoMisa]})]}),(0,b.jsx)(r,{label:"Intención de la Misa",name:"intencion",value:M.intencion,onChange:P,onBlur:()=>Q("intencion"),error:K.has("intencion")?I.intencion:void 0,required:!0,rows:3,placeholder:"Describe la intención de la misa...",helpText:"Mínimo 10 caracteres"}),(0,b.jsx)(r,{label:"Nombres de Difuntos (si aplica)",name:"difuntos",value:M.difuntos,onChange:P,rows:2,placeholder:"Nombres de los difuntos por quienes se ofrece la misa"}),(0,b.jsx)(r,{label:"Observaciones adicionales",name:"observaciones",value:M.observaciones,onChange:P,rows:2,placeholder:"Cualquier información adicional..."})]}),4===a&&(0,b.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-[#002F57] mb-6",children:"Método de Pago"}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-[#002F57] to-[#003d6d] rounded-xl p-6 text-white",children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Resumen de tu reserva"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-white/70",children:"Fecha:"}),(0,b.jsx)("span",{children:M.reservationDate})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-white/70",children:"Hora:"}),(0,b.jsx)("span",{children:M.reservationTime})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-white/70",children:"Tipo de Misa:"}),(0,b.jsx)("span",{children:S?.label})]}),(0,b.jsx)("div",{className:"border-t border-white/20 my-3"}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,b.jsx)("span",{children:"Total a pagar:"}),(0,b.jsxs)("span",{className:"text-[#6DFFE5]",children:["S/ ",S?.price.toFixed(2)]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Selecciona método de pago ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:C.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>{N(b=>({...b,metodoPago:a.type})),J(a=>({...a,metodoPago:""}))},className:`p-4 rounded-xl border-2 text-left transition-all duration-200 ${M.metodoPago===a.type?"border-[#49AE9C] bg-[#49AE9C]/5 shadow-md":"border-gray-200 hover:border-[#49AE9C] hover:shadow-sm"}`,children:[(0,b.jsx)("span",{className:"block font-semibold text-[#002F57]",children:a.name}),(0,b.jsx)("span",{className:"block text-sm text-gray-500 mt-1",children:a.description})]},a.type))}),I.metodoPago&&K.has("metodoPago")&&(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1 mt-2 animate-fadeIn",children:[(0,b.jsx)(o.AlertCircle,{className:"w-4 h-4"}),I.metodoPago]})]}),T&&"efectivo"!==T.type&&(0,b.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-100",children:[(0,b.jsx)("h4",{className:"font-semibold text-blue-900 mb-3",children:"Datos para transferencia"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[T.banco&&(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-blue-700",children:"Banco:"})," ",T.banco]}),T.cuenta&&(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-blue-700",children:"Cuenta:"})," ",T.cuenta]}),T.cci&&(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-blue-700",children:"CCI:"})," ",T.cci]}),T.titular&&(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-blue-700",children:"Titular:"})," ",T.titular]})]}),(0,b.jsx)("p",{className:"text-xs text-blue-600 mt-3",children:T.instructions})]}),T&&"efectivo"!==T.type&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comprobante de pago (opcional)"}),(0,b.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-[#49AE9C] transition-colors",children:[(0,b.jsx)("input",{type:"file",onChange:a=>{let b=a.target.files?.[0]||null;N(a=>({...a,comprobante:b}))},accept:"image/*,.pdf",className:"hidden",id:"comprobante"}),(0,b.jsx)("label",{htmlFor:"comprobante",className:"cursor-pointer",children:M.comprobante?(0,b.jsxs)("div",{className:"text-[#49AE9C]",children:[(0,b.jsx)(k.CheckCircle,{className:"w-8 h-8 mx-auto mb-2"}),(0,b.jsx)("p",{className:"font-medium",children:M.comprobante.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Click para cambiar"})]}):(0,b.jsxs)("div",{className:"text-gray-500",children:[(0,b.jsx)(j,{className:"w-8 h-8 mx-auto mb-2"}),(0,b.jsx)("p",{children:"Click para subir comprobante"}),(0,b.jsx)("p",{className:"text-xs",children:"PNG, JPG o PDF"})]})})]})]})]}),5===a&&"success"===v&&(0,b.jsxs)("div",{className:"text-center py-8 animate-fadeIn",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(k.CheckCircle,{className:"w-10 h-10 text-green-600"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-[#002F57] mb-2",children:"¡Reserva Confirmada!"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Tu reserva ha sido registrada exitosamente"}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 max-w-md mx-auto mb-8",children:[(0,b.jsx)("h3",{className:"font-semibold text-[#002F57] mb-4",children:"Detalles de tu reserva"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-left",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Fecha:"}),(0,b.jsx)("span",{className:"font-medium",children:M.reservationDate})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Hora:"}),(0,b.jsx)("span",{className:"font-medium",children:M.reservationTime})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Tipo:"}),(0,b.jsx)("span",{className:"font-medium",children:S?.label})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Monto:"}),(0,b.jsxs)("span",{className:"font-medium text-[#49AE9C]",children:["S/ ",S?.price.toFixed(2)]})]})]})]}),(0,b.jsx)(d.default,{href:"/",className:"inline-flex items-center px-8 py-3 bg-[#002F57] text-white font-semibold rounded-lg hover:bg-[#001f3d] transition-colors",children:"Volver al inicio"})]})]}),a<5&&(0,b.jsxs)("div",{className:"px-6 md:px-8 py-4 bg-gray-50 border-t flex justify-between items-center",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>{a>1&&(s(a=>a-1),window.scrollTo({top:0,behavior:"smooth"}))},disabled:1===a,className:`flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 ${1===a?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-200"}`,children:[(0,b.jsx)(m.ChevronLeft,{className:"w-5 h-5 mr-1"}),"Anterior"]}),a<4?(0,b.jsxs)("button",{type:"button",onClick:()=>{let b=new Set(K),c={};(({1:["reservationDate","reservationTime"],2:["nombre","apellidos","dni","telefono","email"],3:["tipoMisa","intencion"],4:["metodoPago"]})[a]||[]).forEach(a=>{b.add(a);let d=O(a,M[a]);d&&(c[a]=d)}),L(b),J(a=>({...a,...c})),0===Object.keys(c).length&&a<5&&(s(a=>a+1),window.scrollTo({top:0,behavior:"smooth"}))},className:"flex items-center px-6 py-3 bg-[#002F57] text-white font-semibold rounded-lg hover:bg-[#001f3d] transition-all duration-200 hover:shadow-lg",children:["Siguiente",(0,b.jsx)(l.ChevronRight,{className:"w-5 h-5 ml-1"})]}):(0,b.jsx)("button",{type:"submit",disabled:t,className:"flex items-center px-8 py-3 bg-[#49AE9C] text-white font-semibold rounded-lg hover:bg-[#3d9a89] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg",children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Loader2,{className:"w-5 h-5 mr-2 animate-spin"}),"Procesando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.CheckCircle,{className:"w-5 h-5 mr-2"}),"Confirmar Reserva"]})})]})]})})]})})})}a.s(["default",()=>s],44390)}];

//# sourceMappingURL=src_app_reservar_page_tsx_df4a058e._.js.map