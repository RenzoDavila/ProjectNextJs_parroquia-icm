{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/davilaacostarenzojhair/DESARROLLO/Nyutku%20Systems/parroquia-icm-nextjs/src/lib/db.ts"],"sourcesContent":["import { Pool } from 'pg';\n\n// Configuración del pool de conexiones\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n  ssl: process.env.NODE_ENV === 'production' ? { rejectUnauthorized: false } : false,\n  max: 20,\n  idleTimeoutMillis: 30000,\n  connectionTimeoutMillis: 2000,\n});\n\n// Función para ejecutar queries\nexport async function query(text: string, params?: any[]) {\n  const start = Date.now();\n  try {\n    const res = await pool.query(text, params);\n    const duration = Date.now() - start;\n    console.log('Ejecutada query', { text, duration, rows: res.rowCount });\n    return res;\n  } catch (error) {\n    console.error('Error en query de base de datos:', error);\n    throw error;\n  }\n}\n\n// Función para obtener un cliente del pool (para transacciones)\nexport async function getClient() {\n  return await pool.connect();\n}\n\n// Cerrar el pool (útil para testing)\nexport async function closePool() {\n  await pool.end();\n}\n\nexport default pool;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;AAEA,uCAAuC;AACvC,MAAM,OAAO,IAAI,4GAAI,CAAC;IACpB,kBAAkB,QAAQ,GAAG,CAAC,YAAY;IAC1C,KAAK,sCAAwC,0BAAgC;IAC7E,KAAK;IACL,mBAAmB;IACnB,yBAAyB;AAC3B;AAGO,eAAe,MAAM,IAAY,EAAE,MAAc;IACtD,MAAM,QAAQ,KAAK,GAAG;IACtB,IAAI;QACF,MAAM,MAAM,MAAM,KAAK,KAAK,CAAC,MAAM;QACnC,MAAM,WAAW,KAAK,GAAG,KAAK;QAC9B,QAAQ,GAAG,CAAC,mBAAmB;YAAE;YAAM;YAAU,MAAM,IAAI,QAAQ;QAAC;QACpE,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,MAAM;IACR;AACF;AAGO,eAAe;IACpB,OAAO,MAAM,KAAK,OAAO;AAC3B;AAGO,eAAe;IACpB,MAAM,KAAK,GAAG;AAChB;uCAEe"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/davilaacostarenzojhair/DESARROLLO/Nyutku%20Systems/parroquia-icm-nextjs/src/app/api/home-content/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { query } from '@/lib/db';\n\nexport async function GET() {\n  try {\n    // Obtener sección de bienvenida\n    const welcomeResult = await query(`\n      SELECT content, image_url \n      FROM page_sections \n      WHERE page = 'home' AND section = 'welcome' AND is_active = true\n      LIMIT 1\n    `);\n\n    // Obtener sección pastoral juvenil\n    const pastoralResult = await query(`\n      SELECT content, image_url \n      FROM page_sections \n      WHERE page = 'home' AND section = 'pastoral_juvenil' AND is_active = true\n      LIMIT 1\n    `);\n\n    // Obtener sección MSC\n    const mscResult = await query(`\n      SELECT content, image_url \n      FROM page_sections \n      WHERE page = 'home' AND section = 'msc' AND is_active = true\n      LIMIT 1\n    `);\n\n    return NextResponse.json({\n      success: true,\n      data: {\n        welcome: welcomeResult.rows[0] || null,\n        pastoralJuvenil: pastoralResult.rows[0] || null,\n        msc: mscResult.rows[0] || null,\n      },\n    });\n  } catch (error) {\n    console.error('Error fetching home content:', error);\n    return NextResponse.json(\n      { success: false, error: 'Error al cargar el contenido' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AAEO,eAAe;IACpB,IAAI;QACF,gCAAgC;QAChC,MAAM,gBAAgB,MAAM,IAAA,2HAAK,EAAC,CAAC;;;;;IAKnC,CAAC;QAED,mCAAmC;QACnC,MAAM,iBAAiB,MAAM,IAAA,2HAAK,EAAC,CAAC;;;;;IAKpC,CAAC;QAED,sBAAsB;QACtB,MAAM,YAAY,MAAM,IAAA,2HAAK,EAAC,CAAC;;;;;IAK/B,CAAC;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;gBACJ,SAAS,cAAc,IAAI,CAAC,EAAE,IAAI;gBAClC,iBAAiB,eAAe,IAAI,CAAC,EAAE,IAAI;gBAC3C,KAAK,UAAU,IAAI,CAAC,EAAE,IAAI;YAC5B;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAA+B,GACxD;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}